{% extends "digital_campus/base.html" %}
{% block content %}
  <h2>Your Notifications</h2>
  <ul class="list-group mt-3">
    {% for n in notifications %}
      <li class="list-group-item d-flex justify-content-between align-items-center {% if n.unread %}fw-bold{% endif %}">
        <div>
          <a href="{{ n.get_target_url }}">{{ n.actor.username }} {{ n.verb }}</a>
          <small class="text-muted d-block">{{ n.timestamp|timesince }} ago</small>
        </div>
        <div class="btn-group btn-group-sm">
          <a href="{% url 'common:dismiss-notification' n.id %}"
             class="btn btn-outline-secondary"
             title="Dismiss">&times;</a>
          {% if "follow" in n.verb %}
            <a href="{% url 'common:accept-follow-request' n.actor.profile.id %}" class="btn btn-success">✓</a>
            <a href="{% url 'common:decline-follow-request' n.actor.profile.id %}" class="btn btn-danger">✗</a>
          {% endif %}
        </div>
      </li>
    {% empty %}
      <p>You have no notifications.</p>
    {% endfor %}
  </ul>
  
{% endblock %}
